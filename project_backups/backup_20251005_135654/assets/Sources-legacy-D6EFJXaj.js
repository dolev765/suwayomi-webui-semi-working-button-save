!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,i,a=[],c=!0,f=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=u.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){f=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(f)throw o}}return a}}(e,t)||n(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function u(r,n,o,u){var i=n&&n.prototype instanceof f?n:f,l=Object.create(i.prototype);return a(l,"_invoke",function(r,n,o){var u,i,a,f=0,l=o||[],s=!1,y={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return u=t,i=0,a=e,y.n=r,c}};function p(r,n){for(i=r,a=n,t=0;!s&&f&&!o&&t<l.length;t++){var o,u=l[t],p=y.p,b=u[2];r>3?(o=b===n)&&(a=u[(i=u[4])?5:(i=3,3)],u[4]=u[5]=e):u[0]<=p&&((o=r<2&&p<u[1])?(i=0,y.v=n,y.n=u[1]):p<b&&(o=r<3||u[0]>n||n>b)&&(u[4]=r,u[5]=n,y.n=b,i=0))}if(o||r>1)return c;throw s=!0,n}return function(o,l,b){if(f>1)throw TypeError("Generator is already running");for(s&&1===l&&p(l,b),i=l,a=b;(t=i<2?e:a)||!s;){u||(i?i<3?(i>1&&(y.n=-1),p(i,a)):y.n=a:y.v=a);try{if(f=2,u){if(i||(o="next"),t=u[o]){if(!(t=t.call(u,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,i<2&&(i=0)}else 1===i&&(t=u.return)&&t.call(u),i<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),i=1);u=e}else if((t=(s=y.n<0)?a:r.call(n,y))!==c)break}catch(t){u=e,i=1,a=t}finally{f=1}}return{value:t,done:s}}}(r,o,u),!0),l}var c={};function f(){}function l(){}function s(){}t=Object.getPrototypeOf;var y=[][n]?t(t([][n]())):(a(t={},n,function(){return this}),t),p=s.prototype=f.prototype=Object.create(y);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,a(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=s,a(p,"constructor",s),a(s,"constructor",l),l.displayName="GeneratorFunction",a(s,o,"GeneratorFunction"),a(p),a(p,o,"Generator"),a(p,n,function(){return this}),a(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:u,m:b}})()}function a(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,r,n){function u(t,r){a(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(u("next",0),u("throw",1),u("return",2))},a(e,t,r,n)}function c(e,t,r,n,o,u,i){try{var a=e[u](i),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(n,o)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){s(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function s(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}System.register(["./index-legacy-DbvsbuFI.js"],function(e,n){"use strict";var o,a,f,y,p,b,v,g,d,m,h,S,O,j,w;return{setters:[function(e){o=e.br,a=e.f,f=e.Q,y=e.b,p=e.R,b=e.D,v=e.bq,g=e.bo,d=e.t,m=e.bp,h=e.u,S=e.a,O=e.y,j=e.m,w=e.g}],execute:function(){var n={savedSearches:void 0,isPinned:!1,isEnabled:!0},P=function(e){return l(l({},e),{},{savedSearches:e.savedSearches?JSON.stringify(e.savedSearches):void 0})},L=function(e,t){return f("source",l(l({},e),{},{meta:p(e.meta)}),n,void 0,t)},E=e("g",function(e){return L(e)}),k=(e("u",function(e){var t=L(e,y.useEffect);return y.useMemo(function(){return t},[e])}),e("a",function(){var e,t=(e=i().m(function e(t,r,n){return i().w(function(e){for(;;)if(0===e.n)return e.a(2,o(t,[[r,P(s({},r,n))[r]]]))},e)}),function(){var t=this,r=arguments;return new Promise(function(n,o){var u=e.apply(t,r);function i(e){c(u,n,o,i,a,"next",e)}function a(e){c(u,n,o,i,a,"throw",e)}i(void 0)})});return function(e,r,n){return t.apply(this,arguments)}}())),N=(e("c",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();return function(r,n){return k(e,r,n).catch(t)}}),function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n=e,i=[{key:"isLocalSource",value:function(t){return t.id===e.LOCAL_SOURCE_ID}},{key:"getLanguage",value:function(t){return e.isLocalSource(t)?b.OTHER:t.lang}},{key:"getLanguages",value:function(t){return r(new Set(t.map(e.getLanguage)))}},{key:"groupByLanguage",value:function(r){var n=Object.groupBy(r,function(t){return E(t).isPinned?b.PINNED:e.getLanguage(t)}),o=Object.entries(n).toSorted(function(e,r){var n=t(e,1)[0],o=t(r,1)[0],u=n===b.PINNED,i=o===b.PINNED;return u?-1:i?1:v(n,o)}).map(function(e){var r=t(e,2),n=r[0],o=r[1];return[n,(null!=o?o:[]).toSorted(function(e,t){return e.displayName.localeCompare(t.displayName)})]});return Object.fromEntries(o)}},{key:"filter",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.showNsfw,o=r.languages,u=r.keepLocalSource,i=r.pinned,a=r.enabled,c=g(d(null!=o?o:[]));return t.filter(function(t){return void 0===n||n||!t.isNsfw||u&&e.isLocalSource(t)}).filter(function(t){return!o||c.includes(m(e.getLanguage(t)))||u&&e.isLocalSource(t)}).filter(function(t){return void 0===i||!i||E(t).isPinned||u&&e.isLocalSource(t)}).filter(function(t){return void 0===a||!a||E(t).isEnabled||u&&e.isLocalSource(t)})}},{key:"areFromMultipleRepos",value:function(t){var r,n=null===(r=t.find(function(e){return!!e.extension.repo}))||void 0===r?void 0:r.extension.repo;return!(!n||!t.length)&&t.some(function(t){return t.extension.repo!==n&&!e.isLocalSource(t)})}},{key:"getLastUsedSource",value:function(e,t){return t.find(function(t){return t.id===e})}},{key:"useLanguages",value:function(){var e=h().t,t=S().settings.sourceLanguages,r=O(function(t){return j(e("global.error.label.failed_to_save_changes",w(t)),"error")});return{languages:t,setLanguages:y.useCallback(function(e){return r("sourceLanguages",e)},[])}}}],(o=null)&&u(n.prototype,o),i&&u(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}());s(N,"LOCAL_SOURCE_ID","0"),e("S",N)}}})}();
