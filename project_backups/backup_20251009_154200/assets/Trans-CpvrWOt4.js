import{cq as K,eU as J,eV as U,eW as M,b,eX as D,eY as H,eZ as I,e_ as ee}from"./index-B3NSCdsi.js";var W,w;function te(){return w||(w=1,W={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),W}var re=te();const ne=K(re);var se=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function z(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(ne[r[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("-->");return{type:"comment",comment:n!==-1?e.slice(4,n):""}}for(var a=new RegExp(se),i=null;(i=a.exec(e))!==null;)if(i[0].trim())if(i[1]){var p=i[1].trim(),v=[p,""];p.indexOf("=")>-1&&(v=p.split("=")),t.attrs[v[0]]=v[1],a.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var ae=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,ie=/^\s*$/,le=Object.create(null);function Y(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(r){var n=[];for(var a in r)n.push(a+'="'+r[a]+'"');return n.length?" "+n.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(Y,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var oe={parse:function(e,t){t||(t={}),t.components||(t.components=le);var r,n=[],a=[],i=-1,p=!1;if(e.indexOf("<")!==0){var v=e.indexOf("<");n.push({type:"text",content:v===-1?e:e.substring(0,v)})}return e.replace(ae,function(c,O){if(p){if(c!=="</"+r.name+">")return;p=!1}var m,x=c.charAt(1)!=="/",d=c.startsWith("<!--"),g=O+c.length,l=e.charAt(g);if(d){var A=z(c);return i<0?(n.push(A),n):((m=a[i]).children.push(A),n)}if(x&&(i++,(r=z(c)).type==="tag"&&t.components[r.name]&&(r.type="component",p=!0),r.voidElement||p||!l||l==="<"||r.children.push({type:"text",content:e.slice(g,e.indexOf("<",g))}),i===0&&n.push(r),(m=a[i-1])&&m.children.push(r),a[i]=r),(!x||r.voidElement)&&(i>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(i--,r=i===-1?n:a[i]),!p&&l!=="<"&&l)){m=i===-1?n:a[i].children;var h=e.indexOf("<",g),o=e.slice(g,h===-1?void 0:h);ie.test(o)&&(o=" "),(h>-1&&i+m.length>=0||o!==" ")&&m.push({type:"text",content:o})}}),n},stringify:function(e){return e.reduce(function(t,r){return t+Y("",r)},"")}};const R=(e,t)=>{var n,a;if(!e)return!1;const r=(a=(n=e.props)==null?void 0:n.children)!=null?a:e.children;return t?r.length>0:!!r},q=e=>{var r,n,a;if(!e)return[];const t=(n=(r=e.props)==null?void 0:r.children)!=null?n:e.children;return(a=e.props)!=null&&a.i18nIsDynamicList?S(t):t},ce=e=>Array.isArray(e)&&e.every(b.isValidElement),S=e=>Array.isArray(e)?e:[e],ue=(e,t)=>{const r={...t};return r.props=Object.assign(e.props,t.props),r},Z=(e,t,r,n)=>{var v;if(!e)return"";let a="";const i=S(e),p=t!=null&&t.transSupportBasicHtmlNodes?(v=t.transKeepBasicHtmlNodesFor)!=null?v:[]:[];return i.forEach((c,O)=>{if(D(c)){a+="".concat(c);return}if(b.isValidElement(c)){const{props:m,type:x}=c,d=Object.keys(m).length,g=p.indexOf(x)>-1,l=m.children;if(!l&&g&&!d){a+="<".concat(x,"/>");return}if(!l&&(!g||d)||m.i18nIsDynamicList){a+="<".concat(O,"></").concat(O,">");return}if(g&&d===1&&D(l)){a+="<".concat(x,">").concat(l,"</").concat(x,">");return}const A=Z(l,t,r,n);a+="<".concat(O,">").concat(A,"</").concat(O,">");return}if(c===null){H(r,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:n});return}if(I(c)){const{format:m,...x}=c,d=Object.keys(x);if(d.length===1){const g=m?"".concat(d[0],", ").concat(m):d[0];a+="{{".concat(g,"}}");return}H(r,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:n,child:c});return}H(r,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:n,child:c})}),a},pe=(e,t,r,n,a,i,p)=>{if(r==="")return[];const v=a.transKeepBasicHtmlNodesFor||[],c=r&&new RegExp(v.map(o=>"<".concat(o)).join("|")).test(r);if(!e&&!t&&!c&&!p)return[r];const O=t!=null?t:{},m=o=>{S(o).forEach(u=>{D(u)||(R(u)?m(q(u)):I(u)&&!b.isValidElement(u)&&Object.assign(O,u))})};m(e);const x=oe.parse("<0>".concat(r,"</0>")),d={...O,...i},g=(o,N,u)=>{var f;const $=q(o),V=A($,N.children,u);return ce($)&&V.length===0||(f=o.props)!=null&&f.i18nIsDynamicList?$:V},l=(o,N,u,$,V)=>{o.dummy?(o.children=N,u.push(b.cloneElement(o,{key:$},V?void 0:N))):u.push(...b.Children.map([o],f=>{var C;const s={...f.props};return delete s.i18nIsDynamicList,b.createElement(f.type,{...s,key:$,ref:(C=f.props.ref)!=null?C:f.ref},V?null:N)}))},A=(o,N,u)=>{const $=S(o);return S(N).reduce((f,s,C)=>{var L,_;const j=((_=(L=s.children)==null?void 0:L[0])==null?void 0:_.content)&&n.services.interpolator.interpolate(s.children[0].content,d,n.language);if(s.type==="tag"){let T=$[parseInt(s.name,10)];!T&&t&&(T=t[s.name]),u.length===1&&!T&&(T=u[0][s.name]),T||(T={});const y=Object.keys(s.attrs).length!==0?ue({props:s.attrs},T):T,k=b.isValidElement(y),F=k&&R(s,!0)&&!s.voidElement,P=c&&I(y)&&y.dummy&&!k,B=I(t)&&Object.hasOwnProperty.call(t,s.name);if(D(y)){const E=n.services.interpolator.interpolate(y,d,n.language);f.push(E)}else if(R(y)||F){const E=g(y,s,u);l(y,E,f,C)}else if(P){const E=A($,s.children,u);l(y,E,f,C)}else if(Number.isNaN(parseFloat(s.name)))if(B){const E=g(y,s,u);l(y,E,f,C,s.voidElement)}else if(a.transSupportBasicHtmlNodes&&v.indexOf(s.name)>-1)if(s.voidElement)f.push(b.createElement(s.name,{key:"".concat(s.name,"-").concat(C)}));else{const E=A($,s.children,u);f.push(b.createElement(s.name,{key:"".concat(s.name,"-").concat(C)},E))}else if(s.voidElement)f.push("<".concat(s.name," />"));else{const E=A($,s.children,u);f.push("<".concat(s.name,">").concat(E,"</").concat(s.name,">"))}else if(I(y)&&!k){const E=s.children[0]?j:null;E&&f.push(E)}else l(y,j,f,C,s.children.length!==1||!j)}else if(s.type==="text"){const T=a.transWrapTextNodes,y=p?a.unescape(n.services.interpolator.interpolate(s.content,d,n.language)):n.services.interpolator.interpolate(s.content,d,n.language);T?f.push(b.createElement(T,{key:"".concat(s.name,"-").concat(C)},y)):f.push(y)}return f},[])},h=A([{dummy:!0,children:e||[]}],x,S(e||[]));return q(h[0])},G=(e,t,r)=>{const n=e.key||t,a=b.cloneElement(e,{key:n});if(!a.props||!a.props.children||r.indexOf("".concat(t,"/>"))<0&&r.indexOf("".concat(t," />"))<0)return a;function i(){return b.createElement(b.Fragment,null,a)}return b.createElement(i,{key:n})},fe=(e,t)=>e.map((r,n)=>G(r,n,t)),me=(e,t)=>{const r={};return Object.keys(e).forEach(n=>{Object.assign(r,{[n]:G(e[n],n,t)})}),r},he=(e,t,r,n)=>e?Array.isArray(e)?fe(e,t):I(e)?me(e,t):(J(r,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:n}),null):null,ye=e=>!I(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,r)=>t&&Number.isNaN(Number.parseFloat(r)),!0);function de({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:i={},values:p,defaults:v,components:c,ns:O,i18n:m,t:x,shouldUnescape:d,...g}){var k,F,P,B,E,X;const l=m||U();if(!l)return J(l,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:n}),e;const A=x||l.t.bind(l)||(Q=>Q),h={...M(),...(k=l.options)==null?void 0:k.react};let o=O||A.ns||((F=l.options)==null?void 0:F.defaultNS);o=D(o)?[o]:o||["translation"];const N=Z(e,h,l,n),u=v||N||h.transEmptyNodeValue||n,{hashTransKey:$}=h,V=n||($?$(N||u):N||u);(B=(P=l.options)==null?void 0:P.interpolation)!=null&&B.defaultVariables&&(p=p&&Object.keys(p).length>0?{...p,...l.options.interpolation.defaultVariables}:{...l.options.interpolation.defaultVariables});const f=p||t!==void 0&&!((X=(E=l.options)==null?void 0:E.interpolation)!=null&&X.alwaysFormat)||!e?i.interpolation:{interpolation:{...i.interpolation,prefix:"#$?",suffix:"?$#"}},s={...i,context:a||i.context,count:t,...p,...f,defaultValue:u,ns:o},C=V?A(V,s):u,j=he(c,C,l,n);let L=j||e,_=null;ye(j)&&(_=j,L=e);const T=pe(L,_,C,l,h,s,d),y=r!=null?r:h.defaultTransParent;return y?b.createElement(y,g,T):T}function Ee({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:i={},values:p,defaults:v,components:c,ns:O,i18n:m,t:x,shouldUnescape:d,...g}){var N;const{i18n:l,defaultNS:A}=b.useContext(ee)||{},h=m||l||U(),o=x||(h==null?void 0:h.t.bind(h));return de({children:e,count:t,parent:r,i18nKey:n,context:a,tOptions:i,values:p,defaults:v,components:c,ns:O||(o==null?void 0:o.ns)||A||((N=h==null?void 0:h.options)==null?void 0:N.defaultNS),i18n:h,t:x,shouldUnescape:d,...g})}export{Ee as T};
