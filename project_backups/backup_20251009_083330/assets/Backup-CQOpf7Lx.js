import{b as C,j as u,a4 as O,ak as me,T as gt,B as we,I as kt,aG as Ct,aY as He,aZ as Tt,a_ as zt,a$ as o,aC as Wt,u as xt,aS as Ye,p as Qe,b0 as Ae,i as wt,k as vt,n as yt,q as St,r as De,b1 as nt,m as Te,e as qt,g as Ee,f as Kt,H as _e,aH as Gt,o as at,S as rt,A as it,L as lt,N as Yt,aA as ct}from"./index-B3NSCdsi.js";import{f as ut}from"./file-selector-DlHkLoY8.js";import{P as Qt}from"./Progress-DM36j54_.js";import{T as Xt}from"./TextSetting-Bbq1hKUk.js";import{N as dt}from"./NumberSetting-DZ-XTU9n.js";import{c as qe,s as ye,a as Zt,u as pe,b as je,_ as S,d as Jt,e as ee,f as le,g as es,P as ts,C as ss,h as ge,i as ke,j as fe,k as os,l as ns,m as as,n as Xe,o as Ne,p as ve,q as rs,r as is,t as Pe,v as Ze,w as ls,S as cs,x as Je,y as et,z as us,A as tt,B as Ue,D as st,E as ds,F as Mt,G as ms,H as ze,I as Dt,J as We,M as ps,K as Oe,L as Pt,N as It,O as Vt,Q as jt,R as fs,T as Nt,U as bs,V as hs,W as gs,X as ks}from"./useMobilePicker-D4yHrKRj.js";import{E as Cs}from"./EmptyViewAbsoluteCentered-DBqm8ISe.js";import{u as Ts}from"./useAppTitle-CiigzFb7.js";import{u as mt}from"./use-window-event-quZycebx.js";import{u as xs}from"./use-merged-ref-Box3cAY6.js";import{L as ws}from"./ListSubheader-Ddg_DhEe.js";import"./Slider-CwwfJui_.js";import"./Chip-BF4pkKVE.js";const Ke=({adapter:e,value:s,timezone:n,props:t})=>{if(s===null)return null;const{minTime:a,maxTime:l,minutesStep:r,shouldDisableTime:d,disableIgnoringDatePartForTimeValidation:b=!1,disablePast:m,disableFuture:x}=t,i=e.date(void 0,n),h=qe(b,e);switch(!0){case!e.isValid(s):return"invalidDate";case!!(a&&h(a,s)):return"minTime";case!!(l&&h(s,l)):return"maxTime";case!!(x&&e.isAfter(s,i)):return"disableFuture";case!!(m&&e.isBefore(s,i)):return"disablePast";case!!(d&&d(s,"hours")):return"shouldDisableTime-hours";case!!(d&&d(s,"minutes")):return"shouldDisableTime-minutes";case!!(d&&d(s,"seconds")):return"shouldDisableTime-seconds";case!!(r&&e.getMinutes(s)%r!==0):return"minutesStep";default:return null}};Ke.valueManager=ye;function vs(e={}){const{enableAccessibleFieldDOMStructure:s=!0,ampm:n}=e;return C.useMemo(()=>({valueType:"time",validator:Ke,internal_valueManager:ye,internal_fieldValueManager:Zt,internal_enableAccessibleFieldDOMStructure:s,internal_useApplyDefaultValuesToFieldInternalProps:Ss,internal_useOpenPickerButtonAriaLabel:ys(n)}),[n,s])}function ys(e){return function(n){const t=pe(),a=je();return C.useMemo(()=>{const l=(e!=null?e:t.is12HourCycleInCurrentLocale())?"fullTime12h":"fullTime24h",r=t.isValid(n)?t.format(n,l):null;return a.openTimePickerDialogue(r)},[n,a,t])}}function Ss(e){const s=pe(),n=Lt(e),t=C.useMemo(()=>{var a;return(a=e.ampm)!=null?a:s.is12HourCycleInCurrentLocale()},[e.ampm,s]);return C.useMemo(()=>{var a;return S({},e,n,{format:(a=e.format)!=null?a:t?s.formats.fullTime12h:s.formats.fullTime24h})},[e,n,t,s])}function Lt(e){return C.useMemo(()=>{var s,n;return{disablePast:(s=e.disablePast)!=null?s:!1,disableFuture:(n=e.disableFuture)!=null?n:!1}},[e.disablePast,e.disableFuture])}function Ms(e,s,n){const t=C.useRef(null),a=C.useRef(null),l=C.useCallback(r=>{r&&(a.current&&t.current&&a.current.removeEventListener(e,t.current,n),r.addEventListener(e,s,n),a.current=r,t.current=s)},[e,s,n]);return C.useEffect(()=>()=>{a.current&&t.current&&a.current.removeEventListener(e,t.current,n)},[e,n]),l}const Ds=e=>{const s=vs(e);return Jt({manager:s,props:e})},Ps=["slots","slotProps","InputProps","inputProps"],Ft=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimeField"}),{slots:a,slotProps:l}=t,r=le(t,Ps),d=es({slotProps:l,ref:n,externalForwardedProps:r}),b=Ds(d);return u.jsx(ts,{slots:a,slotProps:l,fieldResponse:b,defaultOpenPickerIcon:ss})});function Is(e){return ge("MuiPickersToolbarText",e)}ke("MuiPickersToolbarText",["root"]);const Vs=["className","classes","selected","value"],js=e=>fe({root:["root"]},Is,e),Ns=O(gt,{name:"MuiPickersToolbarText",slot:"Root"})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,"&[data-selected]":{color:(e.vars||e).palette.text.primary}})),Ot=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarText"}),{className:a,classes:l,selected:r,value:d}=t,b=le(t,Vs),m=js(l);return u.jsx(Ns,S({ref:n,className:me(m.root,a),component:"span",ownerState:t},r&&{"data-selected":!0},b,{children:d}))}),Ls=["align","className","classes","selected","typographyClassName","value","variant","width"],Fs=e=>fe({root:["root"]},os,e),Os=O(we,{name:"MuiPickersToolbarButton",slot:"Root"})({padding:0,minWidth:16,textTransform:"none"}),Le=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiPickersToolbarButton"}),{align:a,className:l,classes:r,selected:d,typographyClassName:b,value:m,variant:x,width:i}=t,h=le(t,Ls),f=Fs(r);return u.jsx(Os,S({variant:"text",ref:n,className:me(f.root,l),ownerState:t},i?{sx:{width:i}}:{},h,{children:u.jsx(Ot,{align:a,className:b,variant:x,value:m,selected:d})}))});function Rs(e){return ge("MuiTimePickerToolbar",e)}const Fe=ke("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Bs=["ampm","ampmInClock","className","classes"],As=(e,s)=>{const{pickerOrientation:n,toolbarDirection:t}=s;return fe({root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",n==="landscape"&&"hourMinuteLabelLandscape",t==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",n==="landscape"&&"ampmLandscape"],ampmLabel:["ampmLabel"]},Rs,e)},Es=O(rs,{name:"MuiTimePickerToolbar",slot:"Root"})({}),_s=O(Ot,{name:"MuiTimePickerToolbar",slot:"Separator"})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),$s=O("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(e,s)=>[{["&.".concat(Fe.hourMinuteLabelLandscape)]:s.hourMinuteLabelLandscape,["&.".concat(Fe.hourMinuteLabelReverse)]:s.hourMinuteLabelReverse},s.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{toolbarDirection:"rtl"},style:{flexDirection:"row-reverse"}},{props:{pickerOrientation:"landscape"},style:{marginTop:"auto"}}]}),Hs=O("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(e,s)=>[{[".".concat(Fe.ampmLabel)]:s.ampmLabel},{["&.".concat(Fe.ampmLandscape)]:s.ampmLandscape},s.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,["& .".concat(Fe.ampmLabel)]:{fontSize:17},variants:[{props:{pickerOrientation:"landscape"},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Us(e){const s=ee({props:e,name:"MuiTimePickerToolbar"}),{ampm:n,ampmInClock:t,className:a,classes:l}=s,r=le(s,Bs),d=pe(),b=je(),m=ns(),x=As(l,m),{value:i,setValue:h,disabled:f,readOnly:k,view:w,setView:M,views:D}=as(),P=!!(n&&!t&&D.includes("hours")),{meridiemMode:I,handleMeridiemChange:L}=Xe(i,n,j=>h(j,{changeImportance:"set"})),V=j=>d.isValid(i)?d.format(i,j):"--",A=u.jsx(_s,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:x.separator});return u.jsxs(Es,S({landscapeDirection:"row",toolbarTitle:b.timePickerToolbarTitle,ownerState:m,className:me(x.root,a)},r,{children:[u.jsxs($s,{className:x.hourMinuteLabel,ownerState:m,children:[Ne(D,"hours")&&u.jsx(Le,{tabIndex:-1,variant:"h3",onClick:()=>M("hours"),selected:w==="hours",value:V(n?"hours12h":"hours24h")}),Ne(D,["hours","minutes"])&&A,Ne(D,"minutes")&&u.jsx(Le,{tabIndex:-1,variant:"h3",onClick:()=>M("minutes"),selected:w==="minutes",value:V("minutes")}),Ne(D,["minutes","seconds"])&&A,Ne(D,"seconds")&&u.jsx(Le,{variant:"h3",onClick:()=>M("seconds"),selected:w==="seconds",value:V("seconds")})]}),P&&u.jsxs(Hs,{className:x.ampmSelection,ownerState:m,children:[u.jsx(Le,{disableRipple:!0,variant:"subtitle2",selected:I==="am",typographyClassName:x.ampmLabel,value:ve(d,"am"),onClick:k?void 0:()=>L("am"),disabled:f}),u.jsx(Le,{disableRipple:!0,variant:"subtitle2",selected:I==="pm",typographyClassName:x.ampmLabel,value:ve(d,"pm"),onClick:k?void 0:()=>L("pm"),disabled:f})]})]}))}function Rt(e,s){var d,b;const n=pe(),t=ee({props:e,name:s}),a=Lt(t),l=(d=t.ampm)!=null?d:n.is12HourCycleInCurrentLocale(),r=C.useMemo(()=>{var m;return((m=t.localeText)==null?void 0:m.toolbarTitle)==null?t.localeText:S({},t.localeText,{timePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return S({},t,a,{ampm:l,localeText:r},is({views:t.views,openTo:t.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{slots:S({toolbar:Us},t.slots),slotProps:S({},t.slotProps,{toolbar:S({ampm:l,ampmInClock:t.ampmInClock},(b=t.slotProps)==null?void 0:b.toolbar)})})}function zs(e){return ge("MuiTimeClock",e)}ke("MuiTimeClock",["root","arrowSwitcher"]);const Ve=220,he=36,Re={x:Ve/2,y:Ve/2},Bt={x:Re.x,y:0},Ws=Bt.x-Re.x,qs=Bt.y-Re.y,Ks=e=>e*(180/Math.PI),At=(e,s,n)=>{const t=s-Re.x,a=n-Re.y,l=Math.atan2(Ws,qs)-Math.atan2(t,a);let r=Ks(l);r=Math.round(r/e)*e,r%=360;const d=Math.floor(r/e)||0,b=t**2+a**2,m=Math.sqrt(b);return{value:d,distance:m}},Gs=(e,s,n=1)=>{const t=n*6;let{value:a}=At(t,e,s);return a=a*n%60,a},Ys=(e,s,n)=>{const{value:t,distance:a}=At(30,e,s);let l=t||12;return n?l%=12:a<Ve/2-he&&(l+=12,l%=24),l};function Qs(e){return ge("MuiClockPointer",e)}ke("MuiClockPointer",["root","thumb"]);const Xs=["className","classes","isBetweenTwoClockValues","isInner","type","viewValue"],Zs=e=>fe({root:["root"],thumb:["thumb"]},Qs,e),Js=O("div",{name:"MuiClockPointer",slot:"Root"})(({theme:e})=>({width:2,backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{isClockPointerAnimated:!0},style:{transition:e.transitions.create(["transform","height"])}}]})),eo=O("div",{name:"MuiClockPointer",slot:"Thumb"})(({theme:e})=>({width:4,height:4,backgroundColor:(e.vars||e).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:"calc(50% - ".concat(he/2,"px)"),border:"".concat((he-4)/2,"px solid ").concat((e.vars||e).palette.primary.main),boxSizing:"content-box",variants:[{props:{isClockPointerBetweenTwoValues:!1},style:{backgroundColor:(e.vars||e).palette.primary.main}}]}));function to(e){const s=ee({props:e,name:"MuiClockPointer"}),{className:n,classes:t,isBetweenTwoClockValues:a,isInner:l,type:r,viewValue:d}=s,b=le(s,Xs),m=C.useRef(r);C.useEffect(()=>{m.current=r},[r]);const{ownerState:x}=Pe(),i=S({},x,{isClockPointerAnimated:m.current!==r,isClockPointerBetweenTwoValues:a}),h=Zs(t),f=()=>{let w=360/(r==="hours"?12:60)*d;return r==="hours"&&d>12&&(w-=360),{height:Math.round((l?.26:.4)*Ve),transform:"rotateZ(".concat(w,"deg)")}};return u.jsx(Js,S({style:f(),className:me(h.root,n),ownerState:i},b,{children:u.jsx(eo,{ownerState:i,className:h.thumb})}))}function so(e){return ge("MuiClock",e)}ke("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText","selected"]);const oo=(e,s)=>{const n={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton",s.clockMeridiemMode==="am"&&"selected"],pmButton:["pmButton",s.clockMeridiemMode==="pm"&&"selected"],meridiemText:["meridiemText"]};return fe(n,so,e)},no=O("div",{name:"MuiClock",slot:"Root"})(({theme:e})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:e.spacing(2)})),ao=O("div",{name:"MuiClock",slot:"Clock"})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),ro=O("div",{name:"MuiClock",slot:"Wrapper"})({"&:focus":{outline:"none"}}),io=O("div",{name:"MuiClock",slot:"SquareMask"})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{isClockDisabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),lo=O("div",{name:"MuiClock",slot:"Pin"})(({theme:e})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(e.vars||e).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Et=(e,s)=>({zIndex:1,bottom:8,paddingLeft:4,paddingRight:4,width:he,variants:[{props:{clockMeridiemMode:s},style:{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:hover":{backgroundColor:(e.vars||e).palette.primary.light}}}]}),co=O(kt,{name:"MuiClock",slot:"AmButton"})(({theme:e})=>S({},Et(e,"am"),{position:"absolute",left:8})),uo=O(kt,{name:"MuiClock",slot:"PmButton"})(({theme:e})=>S({},Et(e,"pm"),{position:"absolute",right:8})),pt=O(gt,{name:"MuiClock",slot:"MeridiemText"})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function mo(e){const s=ee({props:e,name:"MuiClock"}),{ampm:n,ampmInClock:t,autoFocus:a,children:l,value:r,handleMeridiemChange:d,isTimeDisabled:b,meridiemMode:m,minutesStep:x=1,onChange:i,selectedId:h,type:f,viewValue:k,viewRange:[w,M],disabled:D=!1,readOnly:P,className:I,classes:L}=s,V=pe(),A=je(),{ownerState:j}=Pe(),N=S({},j,{isClockDisabled:D,clockMeridiemMode:m}),F=C.useRef(!1),c=oo(L,N),y=b(k,f),$=!n&&f==="hours"&&(k<1||k>12),E=(g,re)=>{D||P||b(g,f)||i(g,re)},B=(g,re)=>{let{offsetX:z,offsetY:se}=g;if(z===void 0){const oe=g.target.getBoundingClientRect();z=g.changedTouches[0].clientX-oe.left,se=g.changedTouches[0].clientY-oe.top}const J=f==="seconds"||f==="minutes"?Gs(z,se,x):Ys(z,se,!!n);E(J,re)},ce=g=>{F.current=!0,B(g,"shallow")},te=g=>{F.current&&(B(g,"finish"),F.current=!1),g.preventDefault()},Se=g=>{g.buttons>0&&B(g.nativeEvent,"shallow")},ue=g=>{F.current&&(F.current=!1),B(g.nativeEvent,"finish")},Z=f==="hours"?!1:k%5!==0,be=f==="minutes"?x:1,R=C.useRef(null);Ze(()=>{a&&R.current.focus()},[a]);const H=g=>Math.max(w,Math.min(M,g)),G=g=>(g+(M+1))%(M+1),Y=g=>{if(!F.current)switch(g.key){case"Home":E(w,"partial"),g.preventDefault();break;case"End":E(M,"partial"),g.preventDefault();break;case"ArrowUp":E(G(k+be),"partial"),g.preventDefault();break;case"ArrowDown":E(G(k-be),"partial"),g.preventDefault();break;case"PageUp":E(H(k+5),"partial"),g.preventDefault();break;case"PageDown":E(H(k-5),"partial"),g.preventDefault();break;case"Enter":case" ":E(k,"finish"),g.preventDefault();break}};return u.jsxs(no,{className:me(c.root,I),children:[u.jsxs(ao,{className:c.clock,children:[u.jsx(io,{onTouchMove:ce,onTouchStart:ce,onTouchEnd:te,onMouseUp:ue,onMouseMove:Se,ownerState:N,className:c.squareMask}),!y&&u.jsxs(C.Fragment,{children:[u.jsx(lo,{className:c.pin}),r!=null&&u.jsx(to,{type:f,viewValue:k,isInner:$,isBetweenTwoClockValues:Z})]}),u.jsx(ro,{"aria-activedescendant":h,"aria-label":A.clockLabelText(f,r==null?null:V.format(r,n?"fullTime12h":"fullTime24h")),ref:R,role:"listbox",onKeyDown:Y,tabIndex:0,className:c.wrapper,children:l})]}),n&&t&&u.jsxs(C.Fragment,{children:[u.jsx(co,{onClick:P?void 0:()=>d("am"),disabled:D||m===null,ownerState:N,className:c.amButton,title:ve(V,"am"),children:u.jsx(pt,{variant:"caption",className:c.meridiemText,children:ve(V,"am")})}),u.jsx(uo,{disabled:D||m===null,onClick:P?void 0:()=>d("pm"),ownerState:N,className:c.pmButton,title:ve(V,"pm"),children:u.jsx(pt,{variant:"caption",className:c.meridiemText,children:ve(V,"pm")})})]})]})}function po(e){return ge("MuiClockNumber",e)}const $e=ke("MuiClockNumber",["root","selected","disabled"]),fo=["className","classes","disabled","index","inner","label","selected"],bo=(e,s)=>{const n={root:["root",s.isClockNumberSelected&&"selected",s.isClockNumberDisabled&&"disabled"]};return fe(n,po,e)},ho=O("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(e,s)=>[s.root,{["&.".concat($e.disabled)]:s.disabled},{["&.".concat($e.selected)]:s.selected}]})(({theme:e})=>({height:he,width:he,position:"absolute",left:"calc((100% - ".concat(he,"px) / 2)"),display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(e.vars||e).palette.text.primary,fontFamily:e.typography.fontFamily,"&:focused":{backgroundColor:(e.vars||e).palette.background.paper},["&.".concat($e.selected)]:{color:(e.vars||e).palette.primary.contrastText},["&.".concat($e.disabled)]:{pointerEvents:"none",color:(e.vars||e).palette.text.disabled},variants:[{props:{isClockNumberInInnerRing:!0},style:S({},e.typography.body2,{color:(e.vars||e).palette.text.secondary})}]}));function _t(e){const s=ee({props:e,name:"MuiClockNumber"}),{className:n,classes:t,disabled:a,index:l,inner:r,label:d,selected:b}=s,m=le(s,fo),{ownerState:x}=Pe(),i=S({},x,{isClockNumberInInnerRing:r,isClockNumberSelected:b,isClockNumberDisabled:a}),h=bo(t,i),f=l%12/12*Math.PI*2-Math.PI/2,k=(Ve-he-2)/2*(r?.65:1),w=Math.round(Math.cos(f)*k),M=Math.round(Math.sin(f)*k);return u.jsx(ho,S({className:me(h.root,n),"aria-disabled":a?!0:void 0,"aria-selected":b?!0:void 0,role:"option",style:{transform:"translate(".concat(w,"px, ").concat(M+(Ve-he)/2,"px")},ownerState:i},m,{children:d}))}const go=({ampm:e,value:s,getClockNumberText:n,isDisabled:t,selectedId:a,adapter:l})=>{const r=s?l.getHours(s):null,d=[],b=e?1:0,m=e?12:23,x=i=>r===null?!1:e?i===12?r===12||r===0:r===i||r-12===i:r===i;for(let i=b;i<=m;i+=1){let h=i.toString();i===0&&(h="00");const f=!e&&(i===0||i>12);h=l.formatNumber(h);const k=x(i);d.push(u.jsx(_t,{id:k?a:void 0,index:i,inner:f,selected:k,disabled:t(i),label:h,"aria-label":n(h)},i))}return d},ft=({adapter:e,value:s,isDisabled:n,getClockNumberText:t,selectedId:a})=>{const l=e.formatNumber;return[[5,l("05")],[10,l("10")],[15,l("15")],[20,l("20")],[25,l("25")],[30,l("30")],[35,l("35")],[40,l("40")],[45,l("45")],[50,l("50")],[55,l("55")],[0,l("00")]].map(([r,d],b)=>{const m=r===s;return u.jsx(_t,{label:d,id:m?a:void 0,index:b+1,inner:!1,disabled:n(r),selected:m,"aria-label":t(d)},r)})},ot=({value:e,referenceDate:s,adapter:n,props:t,timezone:a})=>{const l=C.useMemo(()=>ye.getInitialReferenceValue({value:e,adapter:n,props:t,referenceDate:s,granularity:cs.day,timezone:a,getTodayDate:()=>ls(n,a,"date")}),[s,a]);return e!=null?e:l},ko=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","timezone"],Co=e=>fe({root:["root"],arrowSwitcher:["arrowSwitcher"]},zs,e),To=O(st,{name:"MuiTimeClock",slot:"Root"})({display:"flex",flexDirection:"column",position:"relative"}),xo=O(ds,{name:"MuiTimeClock",slot:"ArrowSwitcher"})({position:"absolute",right:12,top:15}),wo=["hours","minutes"],vo=C.forwardRef(function(s,n){const t=pe(),a=ee({props:s,name:"MuiTimeClock"}),{ampm:l=t.is12HourCycleInCurrentLocale(),ampmInClock:r=!1,autoFocus:d,slots:b,slotProps:m,value:x,defaultValue:i,referenceDate:h,disableIgnoringDatePartForTimeValidation:f=!1,maxTime:k,minTime:w,disableFuture:M,disablePast:D,minutesStep:P=1,shouldDisableTime:I,showViewSwitcher:L,onChange:V,view:A,views:j=wo,openTo:N,onViewChange:F,focusedView:c,onFocusedViewChange:y,className:$,classes:E,disabled:B,readOnly:ce,timezone:te}=a,Se=le(a,ko),{value:ue,handleValueChange:Z,timezone:be}=Je({name:"TimeClock",timezone:te,value:x,defaultValue:i,referenceDate:h,onChange:V,valueManager:ye}),R=ot({value:ue,referenceDate:h,adapter:t,props:a,timezone:be}),H=je(),G=et(be),Y=us(),{ownerState:g}=Pe(),{view:re,setView:z,previousView:se,nextView:J,setValueAndGoToNextView:oe}=tt({view:A,views:j,openTo:N,onViewChange:F,onChange:Z,focusedView:c,onFocusedViewChange:y}),{meridiemMode:ne,handleMeridiemChange:ae}=Xe(R,l,oe),de=C.useCallback((q,Q)=>{const U=qe(f,t),X=Q==="hours"||Q==="minutes"&&j.includes("seconds"),p=({start:v,end:_})=>!(w&&U(w,_)||k&&U(v,k)||M&&U(v,G)||D&&U(G,X?_:v)),T=(v,_=1)=>{if(v%_!==0)return!1;if(I)switch(Q){case"hours":return!I(t.setHours(R,v),"hours");case"minutes":return!I(t.setMinutes(R,v),"minutes");case"seconds":return!I(t.setSeconds(R,v),"seconds");default:return!1}return!0};switch(Q){case"hours":{const v=Ue(q,ne,l),_=t.setHours(R,v);if(t.getHours(_)!==v)return!0;const K=t.setSeconds(t.setMinutes(_,0),0),Ie=t.setSeconds(t.setMinutes(_,59),59);return!p({start:K,end:Ie})||!T(v)}case"minutes":{const v=t.setMinutes(R,q),_=t.setSeconds(v,0),K=t.setSeconds(v,59);return!p({start:_,end:K})||!T(q,P)}case"seconds":{const v=t.setSeconds(R,q);return!p({start:v,end:v})||!T(q)}default:throw new Error("not supported")}},[l,R,f,k,ne,w,P,I,t,M,D,G,j]),Ce=C.useMemo(()=>{switch(re){case"hours":{const q=(X,p)=>{const T=Ue(X,ne,l);oe(t.setHours(R,T),p,"hours")},Q=t.getHours(R);let U;return l?Q>12?U=[12,23]:U=[0,11]:U=[0,23],{onChange:q,viewValue:Q,children:go({value:ue,adapter:t,ampm:l,getClockNumberText:H.hoursClockNumberText,isDisabled:X=>B||de(X,"hours"),selectedId:Y}),viewRange:U}}case"minutes":{const q=t.getMinutes(R);return{viewValue:q,onChange:(U,X)=>{oe(t.setMinutes(R,U),X,"minutes")},children:ft({adapter:t,value:q,getClockNumberText:H.minutesClockNumberText,isDisabled:U=>B||de(U,"minutes"),selectedId:Y}),viewRange:[0,59]}}case"seconds":{const q=t.getSeconds(R);return{viewValue:q,onChange:(U,X)=>{oe(t.setSeconds(R,U),X,"seconds")},children:ft({adapter:t,value:q,getClockNumberText:H.secondsClockNumberText,isDisabled:U=>B||de(U,"seconds"),selectedId:Y}),viewRange:[0,59]}}default:throw new Error("You must provide the type for ClockView")}},[re,t,ue,l,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ne,oe,R,de,Y,B]),Me=Co(E);return u.jsxs(To,S({ref:n,className:me(Me.root,$),ownerState:g},Se,{children:[u.jsx(mo,S({autoFocus:d!=null?d:!!c,ampmInClock:r&&j.includes("hours"),value:ue,type:re,ampm:l,minutesStep:P,isTimeDisabled:de,meridiemMode:ne,handleMeridiemChange:ae,selectedId:Y,disabled:B,readOnly:ce},Ce)),L&&u.jsx(xo,{className:Me.arrowSwitcher,slots:b,slotProps:m,onGoToPrevious:()=>z(se),isPreviousDisabled:!se,previousLabel:H.openPreviousView,onGoToNext:()=>z(J),isNextDisabled:!J,nextLabel:H.openNextView,ownerState:g})]}))});function yo(e){return ge("MuiDigitalClock",e)}ke("MuiDigitalClock",["root","list","item"]);const So=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","views","skipDisabled","timezone"],Mo=e=>fe({root:["root"],list:["list"],item:["item"]},yo,e),Do=O(st,{name:"MuiDigitalClock",slot:"Root"})({overflowY:"auto",width:"100%",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Dt,variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),Po=O(Tt,{name:"MuiDigitalClock",slot:"List"})({padding:0}),Io=O(Ct,{name:"MuiDigitalClock",slot:"Item",shouldForwardProp:e=>e!=="itemValue"&&e!=="formattedValue"})(({theme:e})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):He(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):He(e.palette.primary.main,e.palette.action.focusOpacity)}})),Vo=C.forwardRef(function(s,n){var X;const t=pe(),a=C.useRef(null),l=Mt(n,a),r=C.useRef(null),d=ee({props:s,name:"MuiDigitalClock"}),{ampm:b=t.is12HourCycleInCurrentLocale(),timeStep:m=30,autoFocus:x,slots:i,slotProps:h,value:f,defaultValue:k,referenceDate:w,disableIgnoringDatePartForTimeValidation:M=!1,maxTime:D,minTime:P,disableFuture:I,disablePast:L,minutesStep:V=1,shouldDisableTime:A,onChange:j,view:N,openTo:F,onViewChange:c,focusedView:y,onFocusedViewChange:$,className:E,classes:B,disabled:ce,readOnly:te,views:Se=["hours"],skipDisabled:ue=!1,timezone:Z}=d,be=le(d,So),{value:R,handleValueChange:H,timezone:G}=Je({name:"DigitalClock",timezone:Z,value:f,defaultValue:k,referenceDate:w,onChange:j,valueManager:ye}),Y=je(),g=et(G),{ownerState:re}=Pe(),z=S({},re,{hasDigitalClockAlreadyBeenRendered:!!a.current}),se=Mo(B),J=(X=i==null?void 0:i.digitalClockItem)!=null?X:Io,oe=ms({elementType:J,externalSlotProps:h==null?void 0:h.digitalClockItem,ownerState:z,className:se.item}),ne=ot({value:R,referenceDate:w,adapter:t,props:d,timezone:G}),ae=ze(p=>H(p,"finish","hours")),{setValueAndGoToNextView:de}=tt({view:N,views:Se,openTo:F,onViewChange:c,onChange:ae,focusedView:y,onFocusedViewChange:$}),Ce=ze(p=>{de(p,"finish")});Ze(()=>{if(a.current===null)return;const p=a.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!p)return;const T=p.offsetTop;(x||y)&&p.focus(),a.current.scrollTop=T-4});const Me=C.useCallback(p=>{const T=qe(M,t),v=()=>!(P&&T(P,p)||D&&T(p,D)||I&&T(p,g)||L&&T(g,p)),_=()=>t.getMinutes(p)%V!==0?!1:A?!A(p,"hours"):!0;return!v()||!_()},[M,t,P,D,I,g,L,V,A]),q=C.useMemo(()=>{const p=[];let v=t.startOfDay(ne);for(;t.isSameDay(ne,v);)p.push(v),v=t.addMinutes(v,m);return p},[ne,m,t]),Q=q.findIndex(p=>t.isEqual(p,ne)),U=p=>{switch(p.key){case"PageUp":{const T=We(r.current)-5,v=r.current.children,_=Math.max(0,T),K=v[_];K&&K.focus(),p.preventDefault();break}case"PageDown":{const T=We(r.current)+5,v=r.current.children,_=Math.min(v.length-1,T),K=v[_];K&&K.focus(),p.preventDefault();break}}};return u.jsx(Do,S({ref:l,className:me(se.root,E),ownerState:z},be,{children:u.jsx(Po,{ref:r,role:"listbox","aria-label":Y.timePickerToolbarTitle,className:se.list,onKeyDown:U,children:q.map((p,T)=>{const v=Me(p);if(ue&&v)return null;const _=t.isEqual(p,R),K=t.format(p,b?"fullTime12h":"fullTime24h"),W=Q===T||Q===-1&&T===0?0:-1;return u.jsx(J,S({onClick:()=>!te&&Ce(p),selected:_,disabled:ce||v,disableRipple:te,role:"option","aria-disabled":te,"aria-selected":_,tabIndex:W,itemValue:p,formattedValue:K},oe,{children:K}),"".concat(p.valueOf(),"-").concat(K))})})}))});function jo(e){return ge("MuiMultiSectionDigitalClock",e)}ke("MuiMultiSectionDigitalClock",["root"]);function No(e){return ge("MuiMultiSectionDigitalClockSection",e)}ke("MuiMultiSectionDigitalClockSection",["root","item"]);const Lo=["autoFocus","onChange","className","classes","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Fo=e=>fe({root:["root"],item:["item"]},No,e),Oo=O(Tt,{name:"MuiMultiSectionDigitalClockSection",slot:"Root"})(({theme:e})=>({maxHeight:Dt,width:56,padding:0,overflow:"hidden",scrollbarWidth:"thin","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{hasDigitalClockAlreadyBeenRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Ro=O(Ct,{name:"MuiMultiSectionDigitalClockSection",slot:"Item"})(({theme:e})=>({padding:8,margin:"2px 4px",width:ps,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):He(e.palette.primary.main,e.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(e.vars||e).palette.primary.main,color:(e.vars||e).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):He(e.palette.primary.main,e.palette.action.focusOpacity)}})),Bo=C.forwardRef(function(s,n){var F;const t=C.useRef(null),a=Mt(n,t),l=C.useRef(null),r=ee({props:s,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:d,onChange:b,className:m,classes:x,disabled:i,readOnly:h,items:f,active:k,slots:w,slotProps:M,skipDisabled:D}=r,P=le(r,Lo),{ownerState:I}=Pe(),L=S({},I,{hasDigitalClockAlreadyBeenRendered:!!t.current}),V=Fo(x),A=(F=w==null?void 0:w.digitalClockSectionItem)!=null?F:Ro;Ze(()=>{if(t.current===null)return;const c=t.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(k&&d&&c&&c.focus(),!c||l.current===c)return;l.current=c;const y=c.offsetTop;t.current.scrollTop=y-4});const j=f.findIndex(c=>c.isFocused(c.value)),N=c=>{switch(c.key){case"PageUp":{const y=We(t.current)-5,$=t.current.children,E=Math.max(0,y),B=$[E];B&&B.focus(),c.preventDefault();break}case"PageDown":{const y=We(t.current)+5,$=t.current.children,E=Math.min($.length-1,y),B=$[E];B&&B.focus(),c.preventDefault();break}}};return u.jsx(Oo,S({ref:a,className:me(V.root,m),ownerState:L,autoFocusItem:d&&k,role:"listbox",onKeyDown:N},P,{children:f.map((c,y)=>{var te;const $=(te=c.isDisabled)==null?void 0:te.call(c,c.value),E=i||$;if(D&&E)return null;const B=c.isSelected(c.value),ce=j===y||j===-1&&y===0?0:-1;return u.jsx(A,S({onClick:()=>!h&&b(c.value),selected:B,disabled:E,disableRipple:h,role:"option","aria-disabled":h||E||void 0,"aria-label":c.ariaLabel,"aria-selected":B,tabIndex:ce,className:V.item},M==null?void 0:M.digitalClockSectionItem,{children:c.label}),c.label)})}))}),Ao=({now:e,value:s,adapter:n,ampm:t,isDisabled:a,resolveAriaLabel:l,timeStep:r,valueOrReferenceDate:d})=>{const b=s?n.getHours(s):null,m=[],x=(f,k)=>{const w=k!=null?k:b;return w===null?!1:t?f===12?w===12||w===0:w===f||w-12===f:w===f},i=f=>x(f,n.getHours(d)),h=t?11:23;for(let f=0;f<=h;f+=r){let k=n.format(n.setHours(e,f),t?"hours12h":"hours24h");const w=l(parseInt(k,10).toString());k=n.formatNumber(k),m.push({value:f,label:k,isSelected:x,isDisabled:a,isFocused:i,ariaLabel:w})}return m},bt=({value:e,adapter:s,isDisabled:n,timeStep:t,resolveLabel:a,resolveAriaLabel:l,hasValue:r=!0})=>{const d=m=>e===null?!1:r&&e===m,b=m=>e===m;return[...Array.from({length:Math.ceil(60/t)},(m,x)=>{const i=t*x;return{value:i,label:s.formatNumber(a(i)),isDisabled:n,isSelected:d,isFocused:b,ariaLabel:l(i.toString())}})]},Eo=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","classes","disabled","readOnly","skipDisabled","timezone"],_o=e=>fe({root:["root"]},jo,e),$o=O(st,{name:"MuiMultiSectionDigitalClock",slot:"Root"})(({theme:e})=>({flexDirection:"row",width:"100%",borderBottom:"1px solid ".concat((e.vars||e).palette.divider)})),Ho=C.forwardRef(function(s,n){const t=pe(),a=zt(),l=ee({props:s,name:"MuiMultiSectionDigitalClock"}),{ampm:r=t.is12HourCycleInCurrentLocale(),timeSteps:d,autoFocus:b,slots:m,slotProps:x,value:i,defaultValue:h,referenceDate:f,disableIgnoringDatePartForTimeValidation:k=!1,maxTime:w,minTime:M,disableFuture:D,disablePast:P,minutesStep:I=1,shouldDisableTime:L,onChange:V,view:A,views:j=["hours","minutes"],openTo:N,onViewChange:F,focusedView:c,onFocusedViewChange:y,className:$,classes:E,disabled:B,readOnly:ce,skipDisabled:te=!1,timezone:Se}=l,ue=le(l,Eo),{value:Z,handleValueChange:be,timezone:R}=Je({name:"MultiSectionDigitalClock",timezone:Se,value:i,defaultValue:h,referenceDate:f,onChange:V,valueManager:ye}),H=je(),G=et(R),Y=C.useMemo(()=>S({hours:1,minutes:5,seconds:5},d),[d]),g=ot({value:Z,referenceDate:f,adapter:t,props:l,timezone:R}),re=ze((p,T,v)=>be(p,T,v)),z=C.useMemo(()=>!r||!j.includes("hours")||j.includes("meridiem")?j:[...j,"meridiem"],[r,j]),{view:se,setValueAndGoToNextView:J,focusedView:oe}=tt({view:A,views:z,openTo:N,onViewChange:F,onChange:re,focusedView:c,onFocusedViewChange:y}),ne=ze(p=>{J(p,"finish","meridiem")}),{meridiemMode:ae,handleMeridiemChange:de}=Xe(g,r,ne,"finish"),Ce=C.useCallback((p,T)=>{const v=qe(k,t),_=T==="hours"||T==="minutes"&&z.includes("seconds"),K=({start:W,end:ie})=>!(M&&v(M,ie)||w&&v(W,w)||D&&v(W,G)||P&&v(G,_?ie:W)),Ie=(W,ie=1)=>{if(W%ie!==0)return!1;if(L)switch(T){case"hours":return!L(t.setHours(g,W),"hours");case"minutes":return!L(t.setMinutes(g,W),"minutes");case"seconds":return!L(t.setSeconds(g,W),"seconds");default:return!1}return!0};switch(T){case"hours":{const W=Ue(p,ae,r),ie=t.setHours(g,W);if(t.getHours(ie)!==W)return!0;const Be=t.setSeconds(t.setMinutes(ie,0),0),Ut=t.setSeconds(t.setMinutes(ie,59),59);return!K({start:Be,end:Ut})||!Ie(W)}case"minutes":{const W=t.setMinutes(g,p),ie=t.setSeconds(W,0),Be=t.setSeconds(W,59);return!K({start:ie,end:Be})||!Ie(p,I)}case"seconds":{const W=t.setSeconds(g,p);return!K({start:W,end:W})||!Ie(p)}default:throw new Error("not supported")}},[r,g,k,w,ae,M,I,L,t,D,P,G,z]),Me=C.useCallback(p=>{switch(p){case"hours":return{onChange:T=>{const v=Ue(T,ae,r);J(t.setHours(g,v),"finish","hours")},items:Ao({now:G,value:Z,ampm:r,adapter:t,isDisabled:T=>Ce(T,"hours"),timeStep:Y.hours,resolveAriaLabel:H.hoursClockNumberText,valueOrReferenceDate:g})};case"minutes":return{onChange:T=>{J(t.setMinutes(g,T),"finish","minutes")},items:bt({value:t.getMinutes(g),adapter:t,isDisabled:T=>Ce(T,"minutes"),resolveLabel:T=>t.format(t.setMinutes(G,T),"minutes"),timeStep:Y.minutes,hasValue:!!Z,resolveAriaLabel:H.minutesClockNumberText})};case"seconds":return{onChange:T=>{J(t.setSeconds(g,T),"finish","seconds")},items:bt({value:t.getSeconds(g),adapter:t,isDisabled:T=>Ce(T,"seconds"),resolveLabel:T=>t.format(t.setSeconds(G,T),"seconds"),timeStep:Y.seconds,hasValue:!!Z,resolveAriaLabel:H.secondsClockNumberText})};case"meridiem":{const T=ve(t,"am"),v=ve(t,"pm");return{onChange:de,items:[{value:"am",label:T,isSelected:()=>!!Z&&ae==="am",isFocused:()=>!!g&&ae==="am",ariaLabel:T},{value:"pm",label:v,isSelected:()=>!!Z&&ae==="pm",isFocused:()=>!!g&&ae==="pm",ariaLabel:v}]}}default:throw new Error("Unknown view: ".concat(p," found."))}},[G,Z,r,t,Y.hours,Y.minutes,Y.seconds,H.hoursClockNumberText,H.minutesClockNumberText,H.secondsClockNumberText,ae,J,g,Ce,de]),q=C.useMemo(()=>{if(!a)return z;const p=z.filter(T=>T!=="meridiem");return p.reverse(),z.includes("meridiem")&&p.push("meridiem"),p},[a,z]),Q=C.useMemo(()=>z.reduce((p,T)=>S({},p,{[T]:Me(T)}),{}),[z,Me]),{ownerState:U}=Pe(),X=_o(E);return u.jsx($o,S({ref:n,className:me(X.root,$),ownerState:U,role:"group"},ue,{children:q.map(p=>u.jsx(Bo,{items:Q[p].items,onChange:Q[p].onChange,active:se===p,autoFocus:b||oe===p,disabled:B,readOnly:ce,slots:m,slotProps:x,skipDisabled:te,"aria-label":H.selectViewText(p)},p))}))}),Ge=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:l,defaultValue:r,referenceDate:d,onChange:b,className:m,classes:x,disableFuture:i,disablePast:h,minTime:f,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,ampmInClock:P,slots:I,slotProps:L,readOnly:V,disabled:A,sx:j,autoFocus:N,showViewSwitcher:F,disableIgnoringDatePartForTimeValidation:c,timezone:y})=>u.jsx(vo,{view:e,onViewChange:s,focusedView:n&&Oe(n)?n:null,onFocusedViewChange:t,views:a.filter(Oe),value:l,defaultValue:r,referenceDate:d,onChange:b,className:m,classes:x,disableFuture:i,disablePast:h,minTime:f,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,ampmInClock:P,slots:I,slotProps:L,readOnly:V,disabled:A,sx:j,autoFocus:N,showViewSwitcher:F,disableIgnoringDatePartForTimeValidation:c,timezone:y}),Uo=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:l,defaultValue:r,referenceDate:d,onChange:b,className:m,classes:x,disableFuture:i,disablePast:h,minTime:f,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:I,readOnly:L,disabled:V,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeSteps:F,skipDisabled:c,timezone:y})=>u.jsx(Vo,{view:e,onViewChange:s,focusedView:n&&Oe(n)?n:null,onFocusedViewChange:t,views:a.filter(Oe),value:l,defaultValue:r,referenceDate:d,onChange:b,className:m,classes:x,disableFuture:i,disablePast:h,minTime:f,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:I,readOnly:L,disabled:V,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeStep:F==null?void 0:F.minutes,skipDisabled:c,timezone:y}),ht=({view:e,onViewChange:s,focusedView:n,onFocusedViewChange:t,views:a,value:l,defaultValue:r,referenceDate:d,onChange:b,className:m,classes:x,disableFuture:i,disablePast:h,minTime:f,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:I,readOnly:L,disabled:V,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeSteps:F,skipDisabled:c,timezone:y})=>u.jsx(Ho,{view:e,onViewChange:s,focusedView:n&&Pt(n)?n:null,onFocusedViewChange:t,views:a.filter(Oe),value:l,defaultValue:r,referenceDate:d,onChange:b,className:m,classes:x,disableFuture:i,disablePast:h,minTime:f,maxTime:k,shouldDisableTime:w,minutesStep:M,ampm:D,slots:P,slotProps:I,readOnly:L,disabled:V,sx:A,autoFocus:j,disableIgnoringDatePartForTimeValidation:N,timeSteps:F,skipDisabled:c,timezone:y}),zo=(e,s,n)=>n?s.filter(t=>!Pt(t)||t==="hours"):e?[...s,"meridiem"]:s,Wo=(e,s)=>{var n,t;return 24*60/(((n=e.hours)!=null?n:1)*((t=e.minutes)!=null?t:5))<=s};function qo({thresholdToRenderTimeInASingleColumn:e,ampm:s,timeSteps:n,views:t}){const a=e!=null?e:24,l=S({hours:1,minutes:5,seconds:5},n),r=Wo(l,a);return{thresholdToRenderTimeInASingleColumn:a,timeSteps:l,shouldRenderTimeInASingleColumn:r,views:zo(s,t,r)}}const $t=C.forwardRef(function(s,n){var w,M,D;const t=pe(),a=Rt(s,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:l,views:r,timeSteps:d}=qo(a),b=l?Uo:ht,m=S({hours:b,minutes:b,seconds:b,meridiem:b},a.viewRenderers),x=(w=a.ampmInClock)!=null?w:!0,h=((M=m.hours)==null?void 0:M.name)===ht.name?r:r.filter(P=>P!=="meridiem"),f=S({},a,{ampmInClock:x,timeSteps:d,viewRenderers:m,format:It(t,a),views:l?["hours"]:h,slots:S({field:Ft},a.slots),slotProps:S({},a.slotProps,{field:P=>{var I;return S({},Vt((I=a.slotProps)==null?void 0:I.field,P),jt(a))},toolbar:S({hidden:!0,ampmInClock:x},(D=a.slotProps)==null?void 0:D.toolbar)})}),{renderPicker:k}=fs({ref:n,props:f,valueManager:ye,valueType:"time",validator:Ke,steps:null});return k()});$t.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:Nt,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","meridiem","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,skipDisabled:o.bool,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),thresholdToRenderTimeInASingleColumn:o.number,timeSteps:o.shape({hours:o.number,minutes:o.number,seconds:o.number}),timezone:o.string,value:o.object,view:o.oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,meridiem:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const Ht=C.forwardRef(function(s,n){var m,x;const t=pe(),a=Rt(s,"MuiMobileTimePicker"),l=S({hours:Ge,minutes:Ge,seconds:Ge},a.viewRenderers),r=(m=a.ampmInClock)!=null?m:!1,d=S({},a,{ampmInClock:r,viewRenderers:l,format:It(t,a),slots:S({field:Ft},a.slots),slotProps:S({},a.slotProps,{field:i=>{var h;return S({},Vt((h=a.slotProps)==null?void 0:h.field,i),jt(a))},toolbar:S({hidden:!1,ampmInClock:r},(x=a.slotProps)==null?void 0:x.toolbar)})}),{renderPicker:b}=bs({ref:n,props:d,valueManager:ye,valueType:"time",validator:Ke,steps:null});return b()});Ht.propTypes={ampm:o.bool,ampmInClock:o.bool,autoFocus:o.bool,className:o.string,closeOnSelect:o.bool,defaultValue:o.object,disabled:o.bool,disableFuture:o.bool,disableIgnoringDatePartForTimeValidation:o.bool,disableOpenPicker:o.bool,disablePast:o.bool,enableAccessibleFieldDOMStructure:o.any,format:o.string,formatDensity:o.oneOf(["dense","spacious"]),inputRef:Nt,label:o.node,localeText:o.object,maxTime:o.object,minTime:o.object,minutesStep:o.number,name:o.string,onAccept:o.func,onChange:o.func,onClose:o.func,onError:o.func,onOpen:o.func,onSelectedSectionsChange:o.func,onViewChange:o.func,open:o.bool,openTo:o.oneOf(["hours","minutes","seconds"]),orientation:o.oneOf(["landscape","portrait"]),readOnly:o.bool,reduceAnimations:o.bool,referenceDate:o.object,selectedSections:o.oneOfType([o.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),o.number]),shouldDisableTime:o.func,slotProps:o.object,slots:o.object,sx:o.oneOfType([o.arrayOf(o.oneOfType([o.func,o.object,o.bool])),o.func,o.object]),timezone:o.string,value:o.object,view:o.oneOf(["hours","minutes","seconds"]),viewRenderers:o.shape({hours:o.func,minutes:o.func,seconds:o.func}),views:o.arrayOf(o.oneOf(["hours","minutes","seconds"]).isRequired)};const Ko=["desktopModeMediaQuery"],Go=C.forwardRef(function(s,n){const t=ee({props:s,name:"MuiTimePicker"}),{desktopModeMediaQuery:a=hs}=t,l=le(t,Ko);return Wt(a,{defaultMatches:!0})?u.jsx($t,S({ref:n},l)):u.jsx(Ht,S({ref:n},l))}),Yo=({settingName:e,value:s,defaultValue:n,handleChange:t})=>{const{t:a}=xt(),[l,r]=C.useState(!1),[d,b]=C.useState(s);C.useEffect(()=>{s&&b(s)},[s]);const m=C.useCallback(h=>{r(!1),h&&b(s)},[s]),x=C.useCallback(()=>m(!0),[m]),i=C.useCallback((h,f=!0)=>{f&&m(!1),s!==h&&t(h)},[s,t,m]);return u.jsxs(u.Fragment,{children:[u.jsx(Ye,{onClick:()=>r(!0),children:u.jsx(Qe,{primary:e,secondary:Ae(s,"HH:mm").format("LT"),secondaryTypographyProps:{style:{display:"flex",flexDirection:"column"}}})}),u.jsxs(wt,{open:l,onClose:m,children:[u.jsx(vt,{children:e}),u.jsx(yt,{children:u.jsx(gs,{dateAdapter:ks,adapterLocale:Ae.locale(),children:u.jsx(Go,{autoFocus:!0,value:Ae(d,"HH:mm"),defaultValue:Ae(n,"HH:mm"),format:"LT",onChange:h=>{var f;return b((f=h==null?void 0:h.format("HH:mm"))!=null?f:"00:00")}})})}),u.jsxs(St,{children:[n!==void 0?u.jsx(we,{onClick:()=>{b(n),i(n,!1)},color:"primary",children:a("global.button.reset_to_default")}):null,u.jsx(we,{onClick:x,color:"primary",children:a("global.button.cancel")}),u.jsx(we,{onClick:()=>{i(d)},color:"primary",children:a("global.button.ok")})]})]})]})},Qo=e=>({backupPath:e.backupPath,backupTime:e.backupTime,backupInterval:e.backupInterval,backupTTL:e.backupTTL}),Xo=e=>e===0?ct("global.label.never"):ct("settings.backup.automated.cleanup.label.value",{days:e,count:e});let xe;function mn(){var F;const{t:e}=xt();Ts(e("settings.backup.title"));const{data:s,loading:n,error:t,refetch:a}=De.useGetServerSettings({notifyOnNetworkStatusChange:!0}),[l]=De.useUpdateServerSettings(),{data:r}=De.useGetBackupRestoreStatus(xe!=null?xe:"",{skip:!xe,pollInterval:1e3}),[d,b]=C.useState(null),[m,x]=C.useState(!1),[i,h]=C.useState(),[,f]=C.useState(0),k=C.useRef(null),w=(()=>{if(!(r!=null&&r.restoreStatus))return 0;const c=100*(r.restoreStatus.mangaProgress/r.restoreStatus.totalManga);return Number.isNaN(c)?0:c})(),M=(c,y)=>{l({variables:{input:{settings:{[c]:y}}}}).catch($=>Te(e("global.error.label.failed_to_save_changes"),"error",Ee($)))};C.useEffect(()=>{if(!(r!=null&&r.restoreStatus))return;const c=r.restoreStatus.state===nt.Success,y=r.restoreStatus.state===nt.Failure;(c||y)&&(c&&Te(e("settings.backup.action.restore.label.success"),"success"),y&&Te(e("settings.backup.action.restore.error.label.failure"),"error"),De.reset(),xe=void 0,f(Date.now()))},[(F=r==null?void 0:r.restoreStatus)==null?void 0:F.state]);const D=()=>{b(null);const c=document.getElementById("backup-file");c&&(c.value="")},P=async c=>{try{const{data:{validateBackup:y}}=await De.validateBackupFile(c,{fetchPolicy:"network-only"}).response;return y.missingSources.length||y.missingTrackers.length?(h(y),x(!0),!1):!0}catch(y){Te(e("settings.backup.action.validate.error.label.failure"),"error",Ee(y)),D()}return!1},I=async c=>{var y;try{Te(e("settings.backup.action.restore.label.in_progress"),"info"),xe=(y=(await De.restoreBackupFile(c).response).data)==null?void 0:y.restoreBackup.id,f(Date.now())}catch($){Te(e("settings.backup.action.restore.error.label.failure"),"error",Ee($))}finally{D()}},L=async c=>{if(c.name.toLowerCase().endsWith("json")){Te(e("settings.backup.action.restore.error.label.legacy_backup_unsupported"),"error");return}if(!c.name.toLowerCase().match(/proto\.gz$|tachibk$/g)){Te(e("global.error.label.invalid_file_type"),"error");return}b(c),await P(c)&&await I(c)},V=()=>{x(!1),D()};mt("drop",async c=>{c.preventDefault();const y=await ut(c);L(y[0])}),mt("dragover",c=>{c.preventDefault()});const A=Ms("change",async c=>{const y=await ut(c);L(y[0])}),j=xs(k,A);if(n)return u.jsx(qt,{});if(t)return u.jsx(Cs,{message:e("global.error.label.failed_to_load_data"),messageExtra:Ee(t),retry:()=>a().catch(Kt())});const N=Qo(s.settings);return u.jsxs(u.Fragment,{children:[u.jsxs(_e,{sx:{padding:0},children:[u.jsx(Ye,{component:"a",href:De.getExportBackupUrl(),download:!0,children:u.jsx(Qe,{primary:e("settings.backup.action.create.label.title"),secondary:e("settings.backup.action.create.label.description")})}),u.jsxs(Ye,{onClick:()=>{var c;return(c=k.current)==null?void 0:c.click()},disabled:!!xe,children:[u.jsx(Qe,{primary:e("settings.backup.action.restore.label.title"),secondary:e("settings.backup.action.restore.label.description")}),xe?u.jsx(Gt,{children:u.jsx(Qt,{progress:w})}):null]}),u.jsxs(_e,{subheader:u.jsx(ws,{component:"div",id:"backup-settings",children:"Automated backup"}),children:[u.jsx(Xt,{settingName:e("settings.backup.automated.location.label.title"),dialogDescription:e("settings.backup.automated.location.label.description"),value:N.backupPath,settingDescription:N.backupPath.length?N.backupPath:e("global.label.default"),handleChange:c=>M("backupPath",c)}),u.jsx(Yo,{settingName:e("settings.backup.automated.label.time"),value:N.backupTime,defaultValue:"00:00",handleChange:c=>M("backupTime",c)}),u.jsx(dt,{settingTitle:e("settings.backup.automated.label.interval"),settingValue:e("global.date.value.label.day",{days:N.backupInterval,count:N.backupInterval}),value:N.backupInterval,defaultValue:1,minValue:1,maxValue:31,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:c=>M("backupInterval",c)}),u.jsx(dt,{settingTitle:e("settings.backup.automated.cleanup.label.title"),settingValue:Xo(N.backupTTL),value:N.backupTTL,defaultValue:14,minValue:0,maxValue:1e3,stepSize:1,valueUnit:e("global.date.label.day_one"),showSlider:!0,handleUpdate:c=>M("backupTTL",c)})]})]}),u.jsx("input",{ref:j,type:"file",style:{display:"none"}}),u.jsxs(wt,{open:m,children:[u.jsx(vt,{children:e("settings.backup.action.validate.dialog.title")}),u.jsxs(yt,{dividers:!0,children:[!!(i!=null&&i.missingSources.length)&&u.jsx(_e,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_sources"),children:i==null?void 0:i.missingSources.map(({id:c,name:y})=>u.jsx(at,{sx:{display:"list-item"},children:"".concat(y," (").concat(c,")")},c))}),!!(i!=null&&i.missingTrackers.length)&&u.jsx(_e,{sx:{listStyleType:"initial",listStylePosition:"inside"},subheader:e("settings.backup.action.validate.dialog.content.label.missing_trackers"),children:i==null?void 0:i.missingTrackers.map(({name:c})=>u.jsx(at,{sx:{display:"list-item"},children:"".concat(c)},c))})]}),u.jsx(St,{children:u.jsxs(rt,{direction:"row",sx:{justifyContent:"space-between",width:"100%"},children:[!!(i!=null&&i.missingSources.length)&&u.jsx(we,{onClick:V,component:lt,to:it.browse.path(Yt.EXTENSIONS),autoFocus:!!(i!=null&&i.missingSources.length),variant:i!=null&&i.missingSources.length?"contained":"text",children:e("extension.action.label.install")}),!!(i!=null&&i.missingTrackers.length)&&u.jsx(we,{onClick:V,component:lt,to:it.tracker.path,autoFocus:!!(i!=null&&i.missingTrackers.length),variant:i!=null&&i.missingTrackers.length?"contained":"text",children:e("global.button.log_in")}),u.jsxs(rt,{direction:"row",children:[u.jsx(we,{onClick:V,children:e("global.button.cancel")}),u.jsx(we,{onClick:()=>{V(),I(d)},autoFocus:!(i!=null&&i.missingSources.length)&&!(i!=null&&i.missingTrackers.length),variant:!(i!=null&&i.missingSources.length)&&!(i!=null&&i.missingTrackers.length)?"contained":"text",children:e("global.button.restore")})]})]})})]})]})}export{mn as Backup};
